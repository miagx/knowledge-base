{"version":3,"sources":["webpack:///./src/utils/date.ts","webpack:///./src/templates/page.tsx","webpack:///./src/components/Breadcrumbs/Breadcrumbs.tsx","webpack:///./src/assets/images/icons/social/github.svg"],"names":["formatDate","date","moment","calendar","undefined","sameDay","lastDay","lastWeek","sameElse","Page","props","_this","_React$PureComponent","call","this","state","datePublished","data","page","dateModified","showSearchButton","handleClickSearchButton","bind","assertThisInitialized_default","componentDidMount","setState","componentWillMount","_this$props","isSearching","setSearch","render","_this$props$data","file","_this$state","react","Layout","className","MetaData","title","parent","description","Header","SubHeader","Breadcrumbs","breadcrumbs","href","onClick","dangerouslySetInnerHTML","__html","childMarkdownRemark","html","originalSlug","target","rel","src","githubIcon","alt","navigate","React","query","connect","search","dispatch","searching","setSearching","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","gatsby_link__WEBPACK_IMPORTED_MODULE_1__","gatsby_link__WEBPACK_IMPORTED_MODULE_1___default","n","_ref","a","to","map","breadcrumb","key","slug","module","exports"],"mappings":"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","file":"component---src-templates-page-tsx-92816a43d14895ed5d06.js","sourcesContent":["import * as moment from 'moment';\n\n/**\n * Format a date as calendar time (e.g. 'yesterday', 'last wednesday')\n * @param {string} date\n * @return {string}\n */\nexport const formatDate = (date: string): string => {\n  return moment.utc(date).calendar(undefined, {\n    sameDay: '[Today]',\n    lastDay: '[Yesterday]',\n    lastWeek: '[Last] dddd',\n    sameElse: 'YYYY/MM/DD'\n  });\n};\n","import * as React from 'react';\nimport MetaData from '../components/MetaData/MetaData';\nimport Header from '../components/Header/Header';\nimport SubHeader from '../components/SubHeader/SubHeader';\nimport { formatDate } from '../utils/date';\nimport * as githubIcon from '../assets/images/icons/social/github.svg';\nimport { Page as PageData } from '../models/page';\nimport Breadcrumbs from '../components/Breadcrumbs/Breadcrumbs';\nimport { graphql } from 'gatsby';\nimport Layout from '../components/Layout/Layout';\nimport { ApplicationState } from '../store';\nimport { connect } from 'react-redux';\nimport { AnyAction, Dispatch } from 'redux';\nimport { setSearching } from '../store/search/actions';\nimport { navigate } from '@reach/router';\n\ninterface OwnProps {\n  pathContext: {\n    slug: string;\n  };\n  data: {\n    page: PageData;\n    file: {\n      childMarkdownRemark: {\n        html: string;\n      };\n    };\n  };\n}\n\ninterface StateProps {\n  isSearching: boolean;\n}\n\ninterface DispatchProps {\n  setSearch(searching: boolean): void;\n}\n\ninterface State {\n  datePublished: string;\n  dateModified: string;\n  showSearchButton: boolean;\n}\n\ntype Props = OwnProps & StateProps & DispatchProps;\n\nclass Page extends React.PureComponent<Props, State> {\n  state = {\n    datePublished: this.props.data.page.datePublished,\n    dateModified: this.props.data.page.dateModified,\n    showSearchButton: false\n  };\n\n  constructor(props: Props) {\n    super(props);\n\n    this.handleClickSearchButton = this.handleClickSearchButton.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      datePublished: formatDate(this.state.datePublished),\n      dateModified: formatDate(this.state.dateModified)\n    });\n  }\n\n  componentWillMount() {\n    const { isSearching, setSearch } = this.props;\n    if (isSearching) {\n      this.setState({ showSearchButton: true });\n      setSearch(false);\n    }\n  }\n\n  render() {\n    const {\n      data: { page, file }\n    } = this.props;\n    const { dateModified, showSearchButton } = this.state;\n\n    return (\n      <Layout>\n        <div className=\"full-width\">\n          <MetaData title={`${page.title} Â· ${page.parent.title}`} description={page.description} />\n\n          <Header />\n          <SubHeader>\n            <div className=\"container\">\n              <div className=\"row center-xs\">\n                <div className=\"col-xs-10 col-gutter-lr\">\n                  <Breadcrumbs breadcrumbs={page.breadcrumbs} />\n                </div>\n              </div>\n            </div>\n          </SubHeader>\n\n          <div className=\"container\">\n            <div className=\"page row center-xs\">\n              <div className=\"col-xs-10 col-gutter-lr\">\n                <section className=\"page-content\">\n                  {showSearchButton && (\n                    <div className=\"back\">\n                      <a href=\"#\" onClick={this.handleClickSearchButton}>\n                        Back to search results\n                      </a>\n                    </div>\n                  )}\n                  <article>\n                    <h1>{page.title}</h1>\n                    <div className=\"page-metadata\">Last updated: {dateModified}</div>\n                    <div\n                      className=\"page-markdown\"\n                      dangerouslySetInnerHTML={{ __html: file.childMarkdownRemark.html || '' }}\n                    />\n                  </article>\n                </section>\n                <section className=\"page-extra\">\n                  <a\n                    href={`https://github.com/MyCryptoHQ/knowledge-base-content/blob/master/${\n                      page.originalSlug\n                    }.md`}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    <img src={githubIcon} alt=\"Github icon\" /> Improve this article\n                  </a>\n                </section>\n              </div>\n            </div>\n          </div>\n        </div>\n      </Layout>\n    );\n  }\n\n  private handleClickSearchButton() {\n    const { setSearch } = this.props;\n    setSearch(true);\n    navigate('/search');\n  }\n}\n\nexport const query = graphql`\n  fragment CategoryData on Category {\n    title\n  }\n\n  query Page($slug: String!, $file: String!) {\n    page(slug: { eq: $slug }) {\n      title\n      slug\n      originalSlug\n      description\n      datePublished\n      dateModified\n      parent {\n        ...CategoryData\n      }\n      breadcrumbs {\n        title\n        slug\n      }\n    }\n    file(relativePath: { eq: $file }) {\n      childMarkdownRemark {\n        html\n      }\n    }\n  }\n`;\n\nconst mapStateToProps = (state: ApplicationState) => ({ isSearching: state.search.isSearching });\n\nconst mapDispatchToProps = (dispatch: Dispatch<AnyAction>) => ({\n  setSearch: (searching: boolean) => dispatch(setSearching(searching))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Page);\n","import * as React from 'react';\nimport { Breadcrumb } from '../../models/breadcrumb';\nimport Link from 'gatsby-link';\n\ninterface Props {\n  breadcrumbs: Breadcrumb[];\n}\n\nconst Breadcrumbs: React.StatelessComponent<Props> = ({ breadcrumbs }) => (\n  <ul className=\"breadcrumbs\">\n    <li>\n      <Link to=\"/\">Knowledge Base</Link>\n    </li>\n    {breadcrumbs.map(breadcrumb => (\n      <li key={breadcrumb.title}>\n        <Link to={`/${breadcrumb.slug}`}>{breadcrumb.title}</Link>\n      </li>\n    ))}\n  </ul>\n);\n\nexport default Breadcrumbs;\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTEyIC4yOTdjLTYuNjMgMC0xMiA1LjM3My0xMiAxMiAwIDUuMzAzIDMuNDM4IDkuOCA4LjIwNSAxMS4zODUuNi4xMTMuODItLjI1OC44Mi0uNTc3IDAtLjI4NS0uMDEtMS4wNC0uMDE1LTIuMDQtMy4zMzguNzI0LTQuMDQyLTEuNjEtNC4wNDItMS42MUM0LjQyMiAxOC4wNyAzLjYzMyAxNy43IDMuNjMzIDE3LjdjLTEuMDg3LS43NDQuMDg0LS43MjkuMDg0LS43MjkgMS4yMDUuMDg0IDEuODM4IDEuMjM2IDEuODM4IDEuMjM2IDEuMDcgMS44MzUgMi44MDkgMS4zMDUgMy40OTUuOTk4LjEwOC0uNzc2LjQxNy0xLjMwNS43Ni0xLjYwNS0yLjY2NS0uMy01LjQ2Ni0xLjMzMi01LjQ2Ni01LjkzIDAtMS4zMS40NjUtMi4zOCAxLjIzNS0zLjIyLS4xMzUtLjMwMy0uNTQtMS41MjMuMTA1LTMuMTc2IDAgMCAxLjAwNS0uMzIyIDMuMyAxLjIzLjk2LS4yNjcgMS45OC0uMzk5IDMtLjQwNSAxLjAyLjAwNiAyLjA0LjEzOCAzIC40MDUgMi4yOC0xLjU1MiAzLjI4NS0xLjIzIDMuMjg1LTEuMjMuNjQ1IDEuNjUzLjI0IDIuODczLjEyIDMuMTc2Ljc2NS44NCAxLjIzIDEuOTEgMS4yMyAzLjIyIDAgNC42MS0yLjgwNSA1LjYyNS01LjQ3NSA1LjkyLjQyLjM2LjgxIDEuMDk2LjgxIDIuMjIgMCAxLjYwNi0uMDE1IDIuODk2LS4wMTUgMy4yODYgMCAuMzE1LjIxLjY5LjgyNS41N0MyMC41NjUgMjIuMDkyIDI0IDE3LjU5MiAyNCAxMi4yOTdjMC02LjYyNy01LjM3My0xMi0xMi0xMiIvPjwvc3ZnPgo=\""],"sourceRoot":""}